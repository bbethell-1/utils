FROM fedora:40

RUN dnf install -y curl tar ca-certificates && dnf clean all

RUN curl -L https://mirror.openshift.com/pub/openshift-v4/clients/ocp/4.15.0/openshift-client-linux-4.15.0.tar.gz | \
    tar -xz -C /usr/local/bin oc && \
    chmod +x /usr/local/bin/oc

RUN curl -L -o /usr/local/bin/virtctl https://github.com/kubevirt/kubevirt/releases/download/v1.4.1/virtctl-v1.4.1-linux-amd64 && \
    chmod +x /usr/local/bin/virtctl

RUN oc version --client && virtctl --help

ENTRYPOINT ["/bin/bash"]